{% macro rating(value, stars = 5) %}
<span class="stars">
    {% for star in 1..stars %}
    <i class="{% if star > value %}far{% else %}fas{% endif %} fa-star" aria-hidden="true"></i>
    {% endfor %}
</span>
{% endmacro %}

{% import _self as macros %}

<div class="reviews col-12">
    {% for review in __SELF__.reviews %}
    <figure class="review">
        <header>
            <h2>{{ review.title }}</h2>
        </header>
        <div class="rating">
            {{ macros.rating(review.rating) }}
        </div>
        <blockquote>{{ review.content }}</blockquote>
        <footer class="d-flex justify-content-end">
            <cite>{{ review.name }} ({{ review.created_at|date('d.m.Y') }})</cite>
        </footer>
    </figure>
    {% endfor %}
</div>